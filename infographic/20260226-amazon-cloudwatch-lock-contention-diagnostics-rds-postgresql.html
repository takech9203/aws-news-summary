<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Amazon CloudWatch - RDS for PostgreSQL å‘ã‘ãƒ­ãƒƒã‚¯ç«¶åˆè¨ºæ–­</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11/build/styles/atom-one-dark.min.css">
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11/build/highlight.min.js"></script>
    <style>
        :root {
            --squid-ink: #232F3E;
            --aws-orange: #FF9900;
            --aws-smile-orange: #FFAD33;
            --text-primary: #FFFFFF;
            --text-secondary: #AAAAAA;
            --light-gray: #D5DBDB;
            --card-bg: #2D3A4A;
            --dark-squid: #1A242F;
            --border-color: #3D4A5A;
            --aws-teal: #00A1C9;
            --aws-purple: #8C4FFF;
            --aws-green: #1D8102;
            --aws-red: #D13212;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Noto Sans JP', 'Hiragino Kaku Gothic ProN', 'Hiragino Sans', Meiryo, sans-serif;
            background-color: var(--squid-ink);
            color: var(--light-gray);
            line-height: 1.8;
            font-size: 16px;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        /* Header */
        .header {
            text-align: center;
            margin-bottom: 40px;
            padding-bottom: 32px;
            border-bottom: 3px solid var(--aws-orange);
        }

        .service-badge {
            display: inline-block;
            background: var(--aws-orange);
            color: var(--squid-ink);
            padding: 6px 20px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 700;
            margin-bottom: 16px;
            letter-spacing: 0.5px;
        }

        .header h1 {
            font-size: 34px;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 12px;
            line-height: 1.4;
        }

        .header .subtitle {
            font-size: 18px;
            color: var(--aws-smile-orange);
            font-weight: 500;
            margin-bottom: 8px;
        }

        .header .date {
            font-size: 14px;
            color: var(--text-secondary);
        }

        /* Section */
        .section {
            background: var(--dark-squid);
            border-radius: 12px;
            padding: 28px;
            margin-bottom: 28px;
            border: 1px solid rgba(255, 255, 255, 0.08);
        }

        .section-title {
            font-size: 22px;
            font-weight: 600;
            color: var(--aws-orange);
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .section-title .icon {
            font-size: 26px;
        }

        /* Highlight */
        .highlight {
            background-color: rgba(255, 153, 0, 0.2);
            padding: 2px 8px;
            border-radius: 4px;
            font-weight: 600;
            color: var(--aws-orange);
        }

        /* Overview text */
        .overview-text {
            font-size: 16px;
            color: var(--light-gray);
            line-height: 1.8;
            margin-bottom: 16px;
        }

        /* Before/After */
        .before-after {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 20px;
        }

        @media (max-width: 700px) {
            .before-after {
                grid-template-columns: 1fr;
            }
        }

        .before-card, .after-card {
            border-radius: 10px;
            padding: 20px;
        }

        .before-card {
            background: rgba(209, 50, 18, 0.1);
            border: 1px solid rgba(209, 50, 18, 0.4);
        }

        .after-card {
            background: rgba(29, 129, 2, 0.1);
            border: 1px solid rgba(29, 129, 2, 0.4);
        }

        .before-card .card-label {
            color: var(--aws-red);
            font-weight: 700;
            font-size: 14px;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .after-card .card-label {
            color: var(--aws-green);
            font-weight: 700;
            font-size: 14px;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .before-card ul, .after-card ul {
            list-style: none;
            padding: 0;
        }

        .before-card li, .after-card li {
            font-size: 14px;
            line-height: 1.7;
            margin-bottom: 8px;
            padding-left: 20px;
            position: relative;
        }

        .before-card li::before {
            content: "\2717";
            position: absolute;
            left: 0;
            color: var(--aws-red);
            font-weight: bold;
        }

        .after-card li::before {
            content: "\2713";
            position: absolute;
            left: 0;
            color: var(--aws-green);
            font-weight: bold;
        }

        /* Stats Grid */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 16px;
            margin-top: 16px;
        }

        @media (max-width: 700px) {
            .stats-grid {
                grid-template-columns: 1fr;
            }
        }

        .stat-card {
            background: linear-gradient(135deg, rgba(255, 153, 0, 0.15), rgba(255, 153, 0, 0.05));
            border: 1px solid rgba(255, 153, 0, 0.3);
            border-radius: 10px;
            padding: 20px;
            text-align: center;
        }

        .stat-value {
            font-size: 32px;
            font-weight: 700;
            color: var(--aws-orange);
            margin-bottom: 4px;
        }

        .stat-label {
            font-size: 13px;
            color: var(--light-gray);
        }

        /* Mermaid */
        .mermaid-container {
            background: #FFFFFF;
            border-radius: 12px;
            padding: 24px;
            margin: 20px 0;
            border: 2px solid rgba(255, 153, 0, 0.3);
            overflow-x: auto;
        }

        .mermaid {
            display: flex;
            justify-content: center;
        }

        .diagram-caption {
            font-size: 14px;
            color: var(--text-secondary);
            margin-top: 12px;
            line-height: 1.7;
        }

        /* Feature Cards */
        .feature-card {
            background: var(--card-bg);
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 16px;
            border-left: 4px solid var(--aws-orange);
        }

        .feature-card .feature-title {
            font-size: 17px;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .feature-card .feature-desc {
            font-size: 14px;
            color: var(--light-gray);
            line-height: 1.7;
        }

        .feature-card .feature-desc li {
            margin-bottom: 4px;
        }

        .feature-card .feature-desc ul {
            padding-left: 18px;
            margin-top: 6px;
        }

        /* Tables */
        .table-wrapper {
            overflow-x: auto;
            margin: 16px 0;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 14px;
        }

        th {
            background: rgba(255, 153, 0, 0.2);
            color: var(--aws-orange);
            font-weight: 600;
            text-align: left;
            padding: 12px 14px;
            border-bottom: 2px solid rgba(255, 153, 0, 0.3);
        }

        td {
            padding: 10px 14px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.06);
            color: var(--light-gray);
        }

        tr:hover td {
            background: rgba(255, 255, 255, 0.03);
        }

        /* Code Block */
        .code-block {
            background: #1a1a2e;
            border-radius: 8px;
            overflow: hidden;
            margin: 16px 0;
        }

        .code-header {
            background: #16213e;
            padding: 8px 16px;
            display: flex;
            justify-content: space-between;
            font-size: 12px;
        }

        .code-lang {
            color: var(--aws-orange);
            font-weight: bold;
        }

        .code-title {
            color: var(--light-gray);
        }

        .code-block pre {
            margin: 0;
            padding: 0;
            overflow-x: auto;
        }

        .code-block code {
            font-family: 'Courier New', monospace;
            font-size: 13px;
            line-height: 1.5;
            padding: 16px !important;
        }

        /* Use Case Cards */
        .usecase-card {
            background: linear-gradient(135deg, rgba(255, 153, 0, 0.08), rgba(255, 173, 51, 0.04));
            border: 1px solid rgba(255, 153, 0, 0.25);
            border-radius: 10px;
            padding: 22px;
            margin-bottom: 16px;
        }

        .usecase-card .usecase-title {
            font-size: 17px;
            font-weight: 600;
            color: var(--aws-smile-orange);
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .usecase-card .usecase-scenario {
            font-size: 14px;
            color: var(--light-gray);
            margin-bottom: 12px;
            padding: 10px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 6px;
        }

        .usecase-card .usecase-steps {
            font-size: 14px;
            color: var(--light-gray);
            margin-bottom: 10px;
        }

        .usecase-card .usecase-steps ol {
            padding-left: 20px;
        }

        .usecase-card .usecase-steps li {
            margin-bottom: 4px;
        }

        .usecase-card .usecase-effect {
            font-size: 14px;
            color: var(--aws-teal);
            padding: 8px 12px;
            background: rgba(0, 161, 201, 0.08);
            border-radius: 6px;
            border-left: 3px solid var(--aws-teal);
        }

        /* Steps */
        .steps-list {
            counter-reset: step-counter;
            list-style: none;
            padding: 0;
        }

        .steps-list li {
            counter-increment: step-counter;
            margin-bottom: 20px;
            padding-left: 44px;
            position: relative;
        }

        .steps-list li::before {
            content: counter(step-counter);
            position: absolute;
            left: 0;
            top: 0;
            width: 32px;
            height: 32px;
            background: var(--aws-orange);
            color: var(--squid-ink);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 14px;
        }

        .step-title {
            font-weight: 600;
            color: var(--text-primary);
            font-size: 16px;
            margin-bottom: 6px;
        }

        .step-desc {
            font-size: 14px;
            color: var(--light-gray);
            line-height: 1.7;
        }

        .step-substeps {
            font-size: 14px;
            color: var(--light-gray);
            padding-left: 20px;
            margin-top: 6px;
        }

        .step-substeps li {
            padding-left: 0;
            margin-bottom: 4px;
        }

        .step-substeps li::before {
            display: none;
        }

        /* Pros/Cons */
        .pros-cons-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 16px;
        }

        @media (max-width: 700px) {
            .pros-cons-grid {
                grid-template-columns: 1fr;
            }
        }

        .pros-section, .cons-section {
            border-radius: 10px;
            padding: 20px;
        }

        .pros-section {
            background: rgba(29, 129, 2, 0.08);
            border: 1px solid rgba(29, 129, 2, 0.3);
        }

        .cons-section {
            background: rgba(209, 50, 18, 0.08);
            border: 1px solid rgba(209, 50, 18, 0.3);
        }

        .pros-section .section-label {
            color: var(--aws-green);
            font-weight: 700;
            font-size: 16px;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .cons-section .section-label {
            color: var(--aws-red);
            font-weight: 700;
            font-size: 16px;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .pros-section li, .cons-section li {
            font-size: 14px;
            line-height: 1.7;
            margin-bottom: 8px;
        }

        .pros-section ul, .cons-section ul {
            padding-left: 18px;
        }

        /* Pricing */
        .pricing-card {
            background: linear-gradient(135deg, rgba(140, 79, 255, 0.1), rgba(0, 161, 201, 0.08));
            border: 1px solid rgba(140, 79, 255, 0.3);
            border-radius: 10px;
            padding: 20px;
            margin-top: 16px;
        }

        .pricing-note {
            font-size: 14px;
            color: var(--text-secondary);
            margin-top: 10px;
        }

        /* Related Services */
        .related-service {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            padding: 12px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.06);
        }

        .related-service:last-child {
            border-bottom: none;
        }

        .related-service .service-icon {
            font-size: 20px;
            flex-shrink: 0;
            margin-top: 2px;
        }

        .related-service .service-name {
            font-weight: 600;
            color: var(--text-primary);
            font-size: 15px;
        }

        .related-service .service-desc {
            font-size: 14px;
            color: var(--light-gray);
            margin-top: 2px;
        }

        /* Flow Diagram */
        .flow-diagram {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            flex-wrap: wrap;
            margin: 24px 0;
        }

        .flow-step {
            background: var(--dark-squid);
            border: 2px solid var(--aws-orange);
            border-radius: 8px;
            padding: 12px 20px;
            text-align: center;
            min-width: 100px;
        }

        .flow-arrow {
            color: var(--aws-orange);
            font-size: 24px;
            font-weight: bold;
        }

        /* Region badge */
        .region-badge {
            display: inline-block;
            background: rgba(0, 161, 201, 0.15);
            color: var(--aws-teal);
            padding: 4px 14px;
            border-radius: 14px;
            font-size: 13px;
            font-weight: 500;
            border: 1px solid rgba(0, 161, 201, 0.3);
        }

        /* Footer */
        footer {
            margin-top: 32px;
            padding-top: 20px;
            border-top: 2px solid rgba(255, 153, 0, 0.3);
            font-size: 13px;
            color: var(--text-secondary);
        }

        footer a {
            color: var(--aws-teal);
            text-decoration: none;
            word-break: break-all;
        }

        footer a:hover {
            color: var(--aws-smile-orange);
            text-decoration: underline;
        }

        footer ul {
            list-style: none;
            padding: 0;
            margin-top: 8px;
        }

        footer li {
            margin-bottom: 6px;
            display: flex;
            align-items: flex-start;
            gap: 6px;
        }

        /* Caution box */
        .caution-box {
            background: rgba(255, 153, 0, 0.08);
            border: 1px solid rgba(255, 153, 0, 0.3);
            border-radius: 8px;
            padding: 14px 18px;
            font-size: 14px;
            color: var(--light-gray);
            margin-top: 12px;
        }
    </style>
</head>
<body>
    <div class="container">

        <!-- Header -->
        <div class="header">
            <div class="service-badge">Amazon CloudWatch</div>
            <h1>RDS for PostgreSQL å‘ã‘<br>ãƒ­ãƒƒã‚¯ç«¶åˆè¨ºæ–­ã®æä¾›é–‹å§‹</h1>
            <div class="subtitle">Database Insights Advanced - ãƒ­ãƒƒã‚¯ç«¶åˆè¨ºæ–­æ©Ÿèƒ½</div>
            <div class="date">2026 å¹´ 2 æœˆ 26 æ—¥</div>
        </div>

        <!-- Stats -->
        <div class="section">
            <h2 class="section-title"><span class="icon">ğŸ“Š</span> æ•°å­—ã§è¦‹ã‚‹ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆ</h2>
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-value">15 ç§’</div>
                    <div class="stat-label">ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆåé›†é–“éš”</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">15 ã‹æœˆ</div>
                    <div class="stat-label">ãƒ­ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿ä¿æŒæœŸé–“</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">æ•°åˆ†</div>
                    <div class="stat-label">æ ¹æœ¬åŸå› ã®ç‰¹å®šæ™‚é–“</div>
                </div>
            </div>
        </div>

        <!-- Overview -->
        <div class="section">
            <h2 class="section-title"><span class="icon">ğŸ“</span> æ¦‚è¦</h2>
            <p class="overview-text">
                Amazon CloudWatch Database Insights ãŒ Amazon RDS for PostgreSQL ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹å‘ã‘ã®<span class="highlight">ãƒ­ãƒƒã‚¯ç«¶åˆè¨ºæ–­æ©Ÿèƒ½</span>ã‚’æä¾›é–‹å§‹ã—ã¾ã—ãŸã€‚ã“ã®æ©Ÿèƒ½ã«ã‚ˆã‚Šã€é€²è¡Œä¸­ã®ãƒ­ãƒƒã‚¯ç«¶åˆã¨éå»ã®ãƒ­ãƒƒã‚¯ç«¶åˆã®ä¸¡æ–¹ã«ã¤ã„ã¦ã€æ ¹æœ¬åŸå› ã‚’æ•°åˆ†ä»¥å†…ã«ç‰¹å®šã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚ãƒ­ãƒƒã‚¯ç«¶åˆè¨ºæ–­æ©Ÿèƒ½ã¯ CloudWatch Database Insights ã® <span class="highlight">Advanced ãƒ¢ãƒ¼ãƒ‰</span>ã§ã®ã¿åˆ©ç”¨å¯èƒ½ã§ã™ã€‚
            </p>
            <p class="overview-text">
                Database Insights ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ãƒ­ãƒƒã‚¯çŠ¶æ…‹ã‚’ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ã«è¡¨ç¤ºã—ã€ãƒ–ãƒ­ãƒƒã‚­ãƒ³ã‚°ã‚»ãƒƒã‚·ãƒ§ãƒ³ã¨å¾…æ©Ÿã‚»ãƒƒã‚·ãƒ§ãƒ³ã®é–¢ä¿‚ã‚’å¯è¦–åŒ–ã§ãã¾ã™ã€‚ã•ã‚‰ã«ã€éå»ã®ãƒ­ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿ãŒ 15 ã‹æœˆé–“ä¿æŒã•ã‚Œã‚‹ãŸã‚ã€å±¥æ­´çš„ãªãƒ­ãƒƒã‚¯çŠ¶æ…‹ã®åˆ†æã¨èª¿æŸ»ãŒå¯èƒ½ã§ã™ã€‚
            </p>

            <div class="before-after">
                <div class="before-card">
                    <div class="card-label">BEFORE - ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆå‰ã®èª²é¡Œ</div>
                    <ul>
                        <li><code>pg_locks</code> ã‚„ <code>pg_stat_activity</code> ã«å¯¾ã™ã‚‹ã‚«ã‚¹ã‚¿ãƒ ã‚¯ã‚¨ãƒªã‚’æ‰‹å‹•ã§å®Ÿè¡Œã™ã‚‹å¿…è¦ãŒã‚ã£ãŸ</li>
                        <li>ãƒ–ãƒ­ãƒƒã‚­ãƒ³ã‚°ã‚»ãƒƒã‚·ãƒ§ãƒ³ã¨å¾…æ©Ÿã‚»ãƒƒã‚·ãƒ§ãƒ³ã®é–¢ä¿‚ã‚’ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ã«æŠŠæ¡ã™ã‚‹æ‰‹æ®µãŒãªã‹ã£ãŸ</li>
                        <li>éå»ã®ãƒ­ãƒƒã‚¯ç«¶åˆãƒ‡ãƒ¼ã‚¿ãŒä¿æŒã•ã‚Œãšã€äº‹å¾Œåˆ†æãŒã§ããªã‹ã£ãŸ</li>
                        <li>ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ­ã‚°ã«ä¾å­˜ã—ãŸãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã¯æ™‚é–“ãŒã‹ã‹ã‚Šã€æ­£ç¢ºæ€§ã«æ¬ ã‘ã¦ã„ãŸ</li>
                    </ul>
                </div>
                <div class="after-card">
                    <div class="card-label">AFTER - ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆå¾Œã®æ”¹å–„</div>
                    <ul>
                        <li>ãƒ­ãƒƒã‚¯ãƒ„ãƒªãƒ¼ã‚’ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ã«è¡¨ç¤ºã—ã€é–¢ä¿‚ã‚’ç›´æ„Ÿçš„ã«æŠŠæ¡å¯èƒ½ã«</li>
                        <li>DB Load ãƒãƒ£ãƒ¼ãƒˆã§ã€ŒBlocking object / session / SQLã€ã®ãƒ‡ã‚£ãƒ¡ãƒ³ã‚·ãƒ§ãƒ³ã§åˆ†æå¯èƒ½ã«</li>
                        <li>éå» 15 ã‹æœˆé–“ã®ãƒ­ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿ãŒè‡ªå‹•ä¿æŒã•ã‚Œã€å±¥æ­´åˆ†æãŒå¯èƒ½ã«</li>
                        <li>ã‚«ã‚¹ã‚¿ãƒ ã‚¯ã‚¨ãƒªã‚„ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ­ã‚°ã«ä¾å­˜ã—ãªã„åŠ¹ç‡çš„ãªãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Architecture Diagram -->
        <div class="section">
            <h2 class="section-title"><span class="icon">ğŸ—ï¸</span> ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å›³</h2>
            <div class="mermaid-container">
                <pre class="mermaid">
flowchart TD
    subgraph RDS["ğŸ—„ï¸ Amazon RDS for PostgreSQL"]
        direction TB
        PG["ğŸ˜ PostgreSQL ã‚¨ãƒ³ã‚¸ãƒ³"]

        subgraph LockData["ğŸ”’ ãƒ­ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹"]
            direction LR
            PGLocks["ğŸ“‹ pg_locks"]
            PGStat["ğŸ“Š pg_stat_activity"]
            PGLocks ~~~ PGStat
        end
    end

    subgraph CW["â˜ï¸ Amazon CloudWatch"]
        direction TB
        subgraph DBI["ğŸ“ˆ Database Insights Advanced"]
            direction TB
            Collector["ğŸ”„ ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆåé›†<br/>15 ç§’é–“éš”"]
            Storage["ğŸ’¾ ãƒ­ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿ä¿æŒ<br/>æœ€å¤§ 15 ã‹æœˆ"]

            subgraph Analysis["ğŸ” ãƒ­ãƒƒã‚¯åˆ†æ"]
                direction LR
                Tree["ğŸŒ² ãƒ­ãƒƒã‚¯ãƒ„ãƒªãƒ¼<br/>ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ©ã‚¤ã‚¼ãƒ¼ã‚·ãƒ§ãƒ³"]
                DBLoad["ğŸ“Š DB Load ãƒãƒ£ãƒ¼ãƒˆ<br/>ãƒ–ãƒ­ãƒƒã‚­ãƒ³ã‚°åˆ†æ"]
                Tree ~~~ DBLoad
            end
        end
    end

    subgraph User["ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼"]
        direction LR
        Console["ğŸ–¥ï¸ CloudWatch ã‚³ãƒ³ã‚½ãƒ¼ãƒ«"]
        Action["âš¡ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°"]
        Console ~~~ Action
    end

    PG --> LockData
    LockData -->|"15 ç§’ã”ã¨ã«åé›†"| Collector
    Collector --> Storage
    Storage --> Analysis
    Analysis --> Console
    Console --> Action

    classDef rds fill:none,stroke:#CCCCCC,stroke-width:2px,color:#666666
    classDef pg fill:#E8EAF6,stroke:#C5CAE9,stroke-width:2px,color:#283593
    classDef lock fill:#DCEDC8,stroke:#C5E1A5,stroke-width:2px,color:#33691E
    classDef cw fill:none,stroke:#CCCCCC,stroke-width:2px,color:#666666
    classDef dbi fill:none,stroke:#E1BEE7,stroke-width:2px,color:#666666
    classDef collector fill:#FFE0B2,stroke:#FFCC80,stroke-width:2px,color:#5D4037
    classDef analysis fill:#F3E5F5,stroke:#7B61FF,stroke-width:2px,color:#333333
    classDef user fill:#E3F2FD,stroke:#BBDEFB,stroke-width:2px,color:#1565C0

    class RDS rds
    class PG pg
    class LockData rds
    class PGLocks,PGStat lock
    class CW cw
    class DBI dbi
    class Collector,Storage collector
    class Analysis dbi
    class Tree,DBLoad analysis
    class User cw
    class Console,Action user
                </pre>
            </div>
            <p class="diagram-caption">Amazon RDS for PostgreSQL ã® <code>pg_locks</code> ã¨ <code>pg_stat_activity</code> ãƒ“ãƒ¥ãƒ¼ã‹ã‚‰ 15 ç§’é–“éš”ã§ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆãŒåé›†ã•ã‚Œã€CloudWatch Database Insights ã«ä¿å­˜ã•ã‚Œã¾ã™ã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ CloudWatch ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã®ãƒ­ãƒƒã‚¯åˆ†æã‚¿ãƒ–ã§ãƒ­ãƒƒã‚¯ãƒ„ãƒªãƒ¼ã¨ DB Load ãƒãƒ£ãƒ¼ãƒˆã‚’ä½¿ç”¨ã—ã¦ã€ãƒ­ãƒƒã‚¯ç«¶åˆã®æ ¹æœ¬åŸå› ã‚’ç‰¹å®šã—ã¾ã™ã€‚</p>
        </div>

        <!-- Key Features -->
        <div class="section">
            <h2 class="section-title"><span class="icon">âš¡</span> ä¸»è¦æ©Ÿèƒ½</h2>

            <div class="feature-card">
                <div class="feature-title">ğŸŒ² ãƒ­ãƒƒã‚¯ãƒ„ãƒªãƒ¼ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ©ã‚¤ã‚¼ãƒ¼ã‚·ãƒ§ãƒ³</div>
                <div class="feature-desc">
                    <ul>
                        <li>ãƒ–ãƒ­ãƒƒã‚­ãƒ³ã‚°ã‚»ãƒƒã‚·ãƒ§ãƒ³ã¨å¾…æ©Ÿã‚»ãƒƒã‚·ãƒ§ãƒ³ã®é–¢ä¿‚ã‚’ãƒ„ãƒªãƒ¼æ§‹é€ ã§è¡¨ç¤º</li>
                        <li>å„ãƒãƒ¼ãƒ‰ãŒã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’è¡¨ã—ã€è¦ªãƒãƒ¼ãƒ‰ãŒå­ãƒãƒ¼ãƒ‰ã‚’ãƒ–ãƒ­ãƒƒã‚¯ã—ã¦ã„ã‚‹é–¢ä¿‚ã‚’è¦–è¦šåŒ–</li>
                        <li>ãƒ–ãƒ­ãƒƒã‚¯ã•ã‚Œã¦ã„ã‚‹ã‚»ãƒƒã‚·ãƒ§ãƒ³æ•°ã€æœ€å¾Œã«å®Ÿè¡Œã•ã‚ŒãŸã‚¯ã‚¨ãƒªã€ãƒ–ãƒ­ãƒƒã‚¯æ™‚é–“ãªã©ã®è©³ç´°æƒ…å ±ã‚’è¡¨ç¤º</li>
                    </ul>
                </div>
            </div>

            <div class="feature-card">
                <div class="feature-title">ğŸ“Š DB Load ãƒãƒ£ãƒ¼ãƒˆã®ãƒ–ãƒ­ãƒƒã‚­ãƒ³ã‚°ãƒ‡ã‚£ãƒ¡ãƒ³ã‚·ãƒ§ãƒ³</div>
                <div class="feature-desc">
                    <ul>
                        <li>ã€ŒBlocking objectã€ã§ãƒ–ãƒ­ãƒƒã‚­ãƒ³ã‚°ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆåˆ¥ã® DB Load ã‚’åˆ†æ</li>
                        <li>ã€ŒBlocking sessionã€ã§ãƒ–ãƒ­ãƒƒã‚­ãƒ³ã‚°ã‚»ãƒƒã‚·ãƒ§ãƒ³åˆ¥ã® DB Load ã‚’åˆ†æ</li>
                        <li>ã€ŒBlocking SQLã€ã§ãƒ–ãƒ­ãƒƒã‚­ãƒ³ã‚° SQL åˆ¥ã® DB Load ã‚’åˆ†æ</li>
                        <li>å„ãƒ‡ã‚£ãƒ¡ãƒ³ã‚·ãƒ§ãƒ³ã§ä¸Šä½ã®ãƒ–ãƒ­ãƒƒã‚«ãƒ¼ã®å¤‰åŒ–å‚¾å‘ã‚’æŠŠæ¡</li>
                    </ul>
                </div>
            </div>

            <div class="feature-card">
                <div class="feature-title">ğŸ”„ è‡ªå‹•ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆåé›†ã¨å±¥æ­´ãƒ‡ãƒ¼ã‚¿ä¿æŒ</div>
                <div class="feature-desc">
                    <ul>
                        <li>15 ç§’é–“éš”ã§ãƒ­ãƒƒã‚¯ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆã‚’è‡ªå‹•åé›†</li>
                        <li>15 åˆ†é–“é€£ç¶šã§ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆãŒå–å¾—ã•ã‚ŒãŸå ´åˆã€ã€ŒHigh locking detectedã€ãƒãƒŠãƒ¼ã‚’è¡¨ç¤º</li>
                        <li>éå» 15 ã‹æœˆé–“ã®ãƒ­ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿ã‚’ä¿æŒã—ã€å±¥æ­´åˆ†æãŒå¯èƒ½</li>
                    </ul>
                </div>
            </div>

            <div class="feature-card">
                <div class="feature-title">ğŸ” è©³ç´°ãªãƒ­ãƒƒã‚¯æƒ…å ±ã®è¡¨ç¤º</div>
                <div class="feature-desc">
                    <ul>
                        <li>ã‚»ãƒƒã‚·ãƒ§ãƒ³ IDã€PIDã€ãƒ–ãƒ­ãƒƒã‚¯ã•ã‚ŒãŸã‚»ãƒƒã‚·ãƒ§ãƒ³æ•°ã€æœ€å¾Œã«å®Ÿè¡Œã•ã‚ŒãŸã‚¯ã‚¨ãƒªã€å¾…æ©Ÿã‚¤ãƒ™ãƒ³ãƒˆãªã©ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆåˆ—ã‚’è¡¨ç¤º</li>
                        <li>ãƒ–ãƒ­ãƒƒã‚­ãƒ³ã‚°ãƒ¢ãƒ¼ãƒ‰ã€å¾…æ©Ÿãƒ¢ãƒ¼ãƒ‰ã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³åã€ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³é–‹å§‹æ™‚åˆ»ãªã©ã®è¿½åŠ åˆ—ã‚’è¨­å®šã§æœ‰åŠ¹åŒ–</li>
                        <li><code>pg_locks</code> ã¨ <code>pg_stat_activity</code> ãƒ“ãƒ¥ãƒ¼ã®æƒ…å ±ã‚’çµ±åˆã—ã¦è¡¨ç¤º</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Technical Specifications -->
        <div class="section">
            <h2 class="section-title"><span class="icon">ğŸ”§</span> æŠ€è¡“ä»•æ§˜</h2>

            <h3 style="color: var(--text-primary); font-size: 17px; margin-bottom: 14px; font-weight: 600;">ãƒ­ãƒƒã‚¯ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¡¨ç¤ºåˆ—</h3>
            <div class="table-wrapper">
                <table>
                    <thead>
                        <tr>
                            <th>åˆ—å</th>
                            <th>èª¬æ˜</th>
                            <th>ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>session_id</code></td>
                            <td>ä¸€æ„ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³è­˜åˆ¥å­</td>
                            <td>HEX(backend_start).HEX(pid)</td>
                        </tr>
                        <tr>
                            <td><code>pid</code></td>
                            <td>ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã® PID</td>
                            <td>pg_locks.pid</td>
                        </tr>
                        <tr>
                            <td><code>blocked_sessions_count</code></td>
                            <td>ãƒ–ãƒ­ãƒƒã‚¯ã•ã‚Œã¦ã„ã‚‹ã‚»ãƒƒã‚·ãƒ§ãƒ³æ•°</td>
                            <td>å°å‡ºå€¤</td>
                        </tr>
                        <tr>
                            <td><code>last_query_executed</code></td>
                            <td>ã‚»ãƒƒã‚·ãƒ§ãƒ³ãŒæœ€å¾Œã«å®Ÿè¡Œã—ãŸã‚¯ã‚¨ãƒª</td>
                            <td>pg_stat_activity.query</td>
                        </tr>
                        <tr>
                            <td><code>wait_event</code></td>
                            <td>ç¾åœ¨ã®å¾…æ©Ÿã‚¤ãƒ™ãƒ³ãƒˆå</td>
                            <td>pg_stat_activity.wait_event</td>
                        </tr>
                        <tr>
                            <td><code>blocking_time</code></td>
                            <td>ãƒ­ãƒƒã‚¯é–‹å§‹ã‹ã‚‰ã®çµŒéæ™‚é–“ (ç§’)</td>
                            <td>pg_locks.waitstart ã‹ã‚‰ã®å°å‡ºå€¤</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <h3 style="color: var(--text-primary); font-size: 17px; margin: 24px 0 14px; font-weight: 600;">è¿½åŠ ã§æœ‰åŠ¹åŒ–å¯èƒ½ãªåˆ—</h3>
            <div class="table-wrapper">
                <table>
                    <thead>
                        <tr>
                            <th>åˆ—å</th>
                            <th>èª¬æ˜</th>
                            <th>ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>blocking_mode</code></td>
                            <td>ãƒ–ãƒ­ãƒƒã‚­ãƒ³ã‚°ã‚»ãƒƒã‚·ãƒ§ãƒ³ãŒä¿æŒã™ã‚‹ãƒ­ãƒƒã‚¯ãƒ¢ãƒ¼ãƒ‰</td>
                            <td>pg_locks.mode</td>
                        </tr>
                        <tr>
                            <td><code>waiting_mode</code></td>
                            <td>å¾…æ©Ÿã‚»ãƒƒã‚·ãƒ§ãƒ³ãŒè¦æ±‚ã™ã‚‹ãƒ­ãƒƒã‚¯ãƒ¢ãƒ¼ãƒ‰</td>
                            <td>pg_locks.mode</td>
                        </tr>
                        <tr>
                            <td><code>application</code></td>
                            <td>æ¥ç¶šã—ã¦ã„ã‚‹ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å</td>
                            <td>pg_stat_activity.application_name</td>
                        </tr>
                        <tr>
                            <td><code>blocking_txn_start_time</code></td>
                            <td>ãƒ–ãƒ­ãƒƒã‚­ãƒ³ã‚°ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã®é–‹å§‹æ™‚åˆ»</td>
                            <td>pg_stat_activity.xact_start</td>
                        </tr>
                        <tr>
                            <td><code>waiting_start_time</code></td>
                            <td>å¾…æ©Ÿé–‹å§‹æ™‚åˆ»</td>
                            <td>pg_locks.waitstart</td>
                        </tr>
                        <tr>
                            <td><code>user</code></td>
                            <td>ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ã„ã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼å</td>
                            <td>pg_stat_activity.usename</td>
                        </tr>
                        <tr>
                            <td><code>waiting_locktype</code></td>
                            <td>ãƒ­ãƒƒã‚¯å¯¾è±¡ã®ã‚¿ã‚¤ãƒ—</td>
                            <td>pg_locks.locktype</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Setup Guide -->
        <div class="section">
            <h2 class="section-title"><span class="icon">ğŸ› ï¸</span> è¨­å®šæ–¹æ³•</h2>

            <div class="caution-box" style="margin-bottom: 20px;">
                <strong>å‰ææ¡ä»¶:</strong> Amazon RDS for PostgreSQL ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ãŒä½œæˆæ¸ˆã¿ / CloudWatch Database Insights ã® Advanced ãƒ¢ãƒ¼ãƒ‰ãŒæœ‰åŠ¹ / é©åˆ‡ãª IAM æ¨©é™ / AWS Management Console ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹
            </div>

            <ol class="steps-list">
                <li>
                    <div class="step-title">Database Insights Advanced ãƒ¢ãƒ¼ãƒ‰ã®æœ‰åŠ¹åŒ–</div>
                    <div class="step-desc">RDS ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã¾ãŸã¯ AWS CLI ã‚’ä½¿ç”¨ã—ã¦ã€å¯¾è±¡ã® PostgreSQL ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã§ Advanced ãƒ¢ãƒ¼ãƒ‰ã‚’æœ‰åŠ¹åŒ–ã—ã¾ã™ã€‚</div>
                    <div class="code-block">
                        <div class="code-header">
                            <span class="code-lang">Bash</span>
                            <span class="code-title">Advanced ãƒ¢ãƒ¼ãƒ‰æœ‰åŠ¹åŒ–</span>
                        </div>
                        <pre><code class="language-bash">aws rds modify-db-instance \
  --db-instance-identifier my-postgres-instance \
  --monitoring-interval 1 \
  --enable-performance-insights \
  --performance-insights-retention-period 731</code></pre>
                    </div>
                </li>
                <li>
                    <div class="step-title">CloudWatch ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ã®ãƒ­ãƒƒã‚¯åˆ†æã¸ã®ã‚¢ã‚¯ã‚»ã‚¹</div>
                    <div class="step-desc">CloudWatch ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ Database Insights ã®ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¾ã™ã€‚</div>
                    <ol class="step-substeps">
                        <li>AWS Management Console ã«ã‚µã‚¤ãƒ³ã‚¤ãƒ³ã—ã€CloudWatch ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‚’é–‹ã</li>
                        <li>ã€ŒInsightsã€ â†’ ã€ŒDatabase Insightsã€ â†’ ã€ŒDatabase Instanceã€ã‚’é¸æŠ</li>
                        <li>å¯¾è±¡ã® DB ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’é¸æŠ</li>
                    </ol>
                </li>
                <li>
                    <div class="step-title">ãƒ­ãƒƒã‚¯åˆ†æã‚¿ãƒ–ã®ä½¿ç”¨</div>
                    <div class="step-desc">ãƒ­ãƒƒã‚¯åˆ†æã‚¿ãƒ–ã§ãƒ­ãƒƒã‚¯ãƒ„ãƒªãƒ¼ã‚’ç¢ºèªã—ã€ãƒ–ãƒ­ãƒƒã‚­ãƒ³ã‚°ã‚»ãƒƒã‚·ãƒ§ãƒ³ã®è©³ç´°æƒ…å ±ã‚’åˆ†æã—ã¾ã™ã€‚</div>
                    <ol class="step-substeps">
                        <li>ã€ŒDB Load Analysisã€ã‚¿ãƒ– â†’ ã€ŒLock analysisã€ã‚¿ãƒ–ã‚’é¸æŠ</li>
                        <li>åˆ†ææœŸé–“ã‚’ 1 æ—¥ä»¥å†…ã«è¨­å®š</li>
                        <li>ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚’é¸æŠ (ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ãƒ–ãƒ­ãƒƒã‚¯ã•ã‚ŒãŸã‚»ãƒƒã‚·ãƒ§ãƒ³ãŒæœ€ã‚‚å¤šã„ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ãŒé¸æŠã•ã‚Œã‚‹)</li>
                    </ol>
                </li>
                <li>
                    <div class="step-title">DB Load ãƒãƒ£ãƒ¼ãƒˆã§ã®ãƒ–ãƒ­ãƒƒã‚­ãƒ³ã‚°åˆ†æ</div>
                    <div class="step-desc">DB Load ãƒãƒ£ãƒ¼ãƒˆã®ãƒ–ãƒ­ãƒƒã‚­ãƒ³ã‚°ãƒ‡ã‚£ãƒ¡ãƒ³ã‚·ãƒ§ãƒ³ã‚’ä½¿ç”¨ã—ã¦ã€ãƒ­ãƒƒã‚¯ç«¶åˆã®å‚¾å‘ã¨ä¸»è¦ãªãƒ–ãƒ­ãƒƒã‚«ãƒ¼ã‚’ç‰¹å®šã—ã¾ã™ã€‚</div>
                    <ol class="step-substeps">
                        <li>ã€ŒDB Load Analysisã€ã‚¿ãƒ–ã§ã€ŒSliced byã€ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ã‚’é¸æŠ</li>
                        <li>ã€ŒBlocking objectã€ã€ŒBlocking sessionã€ã€ŒBlocking SQLã€ã®ã„ãšã‚Œã‹ã‚’é¸æŠ</li>
                        <li>ä¸Šä½ã®ãƒ–ãƒ­ãƒƒã‚«ãƒ¼ã® DB Load ã¸ã®å¯„ä¸åº¦ã‚’æ™‚ç³»åˆ—ã§åˆ†æ</li>
                    </ol>
                </li>
            </ol>
        </div>

        <!-- Benefits -->
        <div class="section">
            <h2 class="section-title"><span class="icon">âœ…</span> ãƒ¡ãƒªãƒƒãƒˆ / ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ</h2>

            <div class="pros-cons-grid">
                <div class="pros-section">
                    <div class="section-label">âœ… ãƒ“ã‚¸ãƒã‚¹é¢ã®ãƒ¡ãƒªãƒƒãƒˆ</div>
                    <ul>
                        <li><strong>ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°æ™‚é–“ã®çŸ­ç¸®:</strong> ãƒ­ãƒƒã‚¯ç«¶åˆã®æ ¹æœ¬åŸå› ã‚’æ•°åˆ†ä»¥å†…ã«ç‰¹å®šã§ãã€ãƒ€ã‚¦ãƒ³ã‚¿ã‚¤ãƒ ã‚’æœ€å°åŒ–</li>
                        <li><strong>é‹ç”¨ã‚³ã‚¹ãƒˆã®å‰Šæ¸›:</strong> ã‚«ã‚¹ã‚¿ãƒ ã‚¯ã‚¨ãƒªä½œæˆãƒ»å®Ÿè¡ŒãŒä¸è¦ã«ãªã‚Šã€DBA ã®ä½œæ¥­åŠ¹ç‡ãŒå‘ä¸Š</li>
                        <li><strong>ãƒ—ãƒ­ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªå¯¾å¿œ:</strong> 15 ã‹æœˆã®å±¥æ­´ãƒ‡ãƒ¼ã‚¿ã§ç¹°ã‚Šè¿”ã—ç™ºç”Ÿã™ã‚‹ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ç™ºè¦‹</li>
                        <li><strong>SLA éµå®ˆã®æ”¯æ´:</strong> ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹åŠ£åŒ–ã‚’è¿…é€Ÿã«æ¤œå‡ºãƒ»è§£æ±º</li>
                    </ul>
                </div>
                <div class="pros-section">
                    <div class="section-label">âœ… æŠ€è¡“é¢ã®ãƒ¡ãƒªãƒƒãƒˆ</div>
                    <ul>
                        <li><strong>ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ãªãƒ­ãƒƒã‚¯ãƒ„ãƒªãƒ¼è¡¨ç¤º:</strong> pg_locks ã¨ pg_stat_activity ã®æƒ…å ±ã‚’çµ±åˆã—ç›´æ„Ÿçš„ã«æŠŠæ¡</li>
                        <li><strong>15 ç§’é–“éš”ã®ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆ:</strong> ä¸€æ™‚çš„ãªãƒ­ãƒƒã‚¯ç«¶åˆã‚‚æ•æ‰å¯èƒ½</li>
                        <li><strong>è‡ªå‹•çš„ãªé«˜ãƒ­ãƒƒã‚¯æ¤œå‡º:</strong> 15 åˆ†é€£ç¶šã§ã€ŒHigh locking detectedã€ãƒãƒŠãƒ¼ã‚’è‡ªå‹•è¡¨ç¤º</li>
                        <li><strong>è©³ç´°ãªãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿:</strong> ã‚»ãƒƒã‚·ãƒ§ãƒ³ IDã€PIDã€ãƒ–ãƒ­ãƒƒã‚¯æ™‚é–“ã€å¾…æ©Ÿã‚¤ãƒ™ãƒ³ãƒˆã€ãƒ­ãƒƒã‚¯ãƒ¢ãƒ¼ãƒ‰ãªã©è±Šå¯Œãªè¨ºæ–­æƒ…å ±</li>
                    </ul>
                </div>
            </div>

            <div class="pros-cons-grid" style="margin-top: 20px;">
                <div class="cons-section">
                    <div class="section-label">âš ï¸ åˆ¶é™äº‹é …</div>
                    <ul>
                        <li>Advanced ãƒ¢ãƒ¼ãƒ‰ã§ã®ã¿åˆ©ç”¨å¯èƒ½ (Standard ãƒ¢ãƒ¼ãƒ‰ã§ã¯ä½¿ç”¨ä¸å¯)</li>
                        <li>ãƒ­ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿ã®è¡¨ç¤ºæœŸé–“ã¯ 1 æ—¥ä»¥å†…ã«åˆ¶é™</li>
                        <li>15 ç§’é–“éš”ã®é–“ã«ç™ºç”Ÿã—ãŸçŸ­æœŸé–“ã®ãƒ­ãƒƒã‚¯ç«¶åˆã¯æ•æ‰ã§ããªã„å¯èƒ½æ€§</li>
                        <li>Advanced ãƒ¢ãƒ¼ãƒ‰ã«ã¯ vCPU ãƒ™ãƒ¼ã‚¹ã®è¿½åŠ æ–™é‡‘ãŒç™ºç”Ÿ</li>
                    </ul>
                </div>
                <div class="cons-section">
                    <div class="section-label">âš ï¸ è€ƒæ…®ã™ã¹ãç‚¹</div>
                    <ul>
                        <li>Advanced ãƒ¢ãƒ¼ãƒ‰ã®ã‚³ã‚¹ãƒˆå¢—åŠ ã‚’äº‹å‰ã«è©•ä¾¡ã™ã‚‹ã“ã¨</li>
                        <li>æ ¹æœ¬åŸå› ã®å¤šãã¯ã‚¯ã‚¨ãƒªè¨­è¨ˆã«èµ·å› ã™ã‚‹ãŸã‚ã€è¨ºæ–­å¾Œã®ã‚¯ã‚¨ãƒªæœ€é©åŒ–ãŒé‡è¦</li>
                        <li>å¤§é‡ã®ãƒ­ãƒƒã‚¯ç’°å¢ƒã§ã¯ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆãƒ‡ãƒ¼ã‚¿é‡ãŒå¢—åŠ ã™ã‚‹å¯èƒ½æ€§</li>
                        <li>Aurora PostgreSQL ã¨ RDS for PostgreSQL ã§æœ‰åŠ¹åŒ–æ‰‹é †ãŒè‹¥å¹²ç•°ãªã‚‹å ´åˆãŒã‚ã‚‹</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Use Cases -->
        <div class="section">
            <h2 class="section-title"><span class="icon">ğŸ¯</span> ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹</h2>

            <div class="usecase-card">
                <div class="usecase-title">ğŸ›’ æœ¬ç•ªç’°å¢ƒã®ãƒ­ãƒƒã‚¯ç«¶åˆãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è¨ºæ–­</div>
                <div class="usecase-scenario">EC ã‚µã‚¤ãƒˆã®ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã§çªç™ºçš„ãªãƒ¬ã‚¹ãƒãƒ³ã‚¹é…å»¶ãŒç™ºç”Ÿã—ã€ãƒ­ãƒƒã‚¯ç«¶åˆãŒç–‘ã‚ã‚Œã‚‹ã‚·ãƒŠãƒªã‚ª</div>
                <div class="usecase-steps">
                    <ol>
                        <li>CloudWatch ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ Database Insights ã‚’é–‹ã</li>
                        <li>å¯¾è±¡ã® RDS for PostgreSQL ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’é¸æŠ</li>
                        <li>ã€ŒDB Load Analysisã€ã‚¿ãƒ–ã§ã€ŒSliced by: Blocking SQLã€ã‚’é¸æŠ</li>
                        <li>ãƒ­ãƒƒã‚¯ç«¶åˆã‚’å¼•ãèµ·ã“ã—ã¦ã„ã‚‹ SQL ã‚’ç‰¹å®š</li>
                        <li>ã€ŒLock analysisã€ã‚¿ãƒ–ã§ãƒ­ãƒƒã‚¯ãƒ„ãƒªãƒ¼ã‚’ç¢ºèªã—ã€ãƒ–ãƒ­ãƒƒã‚­ãƒ³ã‚°ã‚»ãƒƒã‚·ãƒ§ãƒ³ã®è©³ç´°ã‚’åˆ†æ</li>
                    </ol>
                </div>
                <div class="usecase-effect">ã‚«ã‚¹ã‚¿ãƒ ã‚¯ã‚¨ãƒªã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨ãªãã€ãƒ­ãƒƒã‚¯ç«¶åˆã®åŸå›  SQL ã¨ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’æ•°åˆ†ä»¥å†…ã«ç‰¹å®šã§ãã€è¿…é€Ÿãªå¯¾å¿œãŒå¯èƒ½ã«ãªã‚Šã¾ã™ã€‚</div>
            </div>

            <div class="usecase-card">
                <div class="usecase-title">ğŸ”„ å®šæœŸãƒãƒƒãƒå‡¦ç†ã«ã‚ˆã‚‹ãƒ­ãƒƒã‚¯å½±éŸ¿ã®åˆ†æ</div>
                <div class="usecase-scenario">æ¯æ—¥ã®å®šæœŸãƒãƒƒãƒå‡¦ç†ãŒã‚ªãƒ³ãƒ©ã‚¤ãƒ³ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã«å½±éŸ¿ã‚’ä¸ãˆã¦ã„ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã€å±¥æ­´ãƒ‡ãƒ¼ã‚¿ã‚’ä½¿ç”¨ã—ã¦å½±éŸ¿ã‚’åˆ†æã—ãŸã„ã‚·ãƒŠãƒªã‚ª</div>
                <div class="usecase-steps">
                    <ol>
                        <li>CloudWatch ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ Database Insights ã‚’é–‹ã</li>
                        <li>ãƒãƒƒãƒå‡¦ç†ãŒå®Ÿè¡Œã•ã‚Œã‚‹æ™‚é–“å¸¯ã«æœŸé–“ã‚’è¨­å®š</li>
                        <li>ã€ŒSliced by: Blocking sessionã€ã§ãƒãƒƒãƒå‡¦ç†ã‚»ãƒƒã‚·ãƒ§ãƒ³ã® DB Load ã¸ã®å¯„ä¸åº¦ã‚’ç¢ºèª</li>
                        <li>ã€ŒLock analysisã€ã‚¿ãƒ–ã§éå»ã®ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆã‚’ç¢ºèªã—ã€ãƒ­ãƒƒã‚¯ãƒ„ãƒªãƒ¼ã®å‚¾å‘ã‚’åˆ†æ</li>
                    </ol>
                </div>
                <div class="usecase-effect">15 ã‹æœˆé–“ã®å±¥æ­´ãƒ‡ãƒ¼ã‚¿ã‚’æ´»ç”¨ã—ã¦ã€ãƒãƒƒãƒå‡¦ç†ãŒã‚ªãƒ³ãƒ©ã‚¤ãƒ³ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã«ä¸ãˆã‚‹ãƒ­ãƒƒã‚¯å½±éŸ¿ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ç‰¹å®šã—ã€ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«æœ€é©åŒ–ã‚„ã‚¯ã‚¨ãƒªæ”¹å–„ã«æ´»ã‹ã›ã¾ã™ã€‚</div>
            </div>

            <div class="usecase-card">
                <div class="usecase-title">ğŸ”“ ãƒ‡ãƒƒãƒ‰ãƒ­ãƒƒã‚¯ã®äº‹å¾Œåˆ†æ</div>
                <div class="usecase-scenario">ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ­ã‚°ã§ãƒ‡ãƒƒãƒ‰ãƒ­ãƒƒã‚¯ã‚¨ãƒ©ãƒ¼ãŒè¨˜éŒ²ã•ã‚Œã€ç™ºç”Ÿæ¡ä»¶ã¨é–¢é€£ã™ã‚‹ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’äº‹å¾Œçš„ã«åˆ†æã—ãŸã„ã‚·ãƒŠãƒªã‚ª</div>
                <div class="usecase-steps">
                    <ol>
                        <li>CloudWatch ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ Database Insights ã‚’é–‹ã</li>
                        <li>ãƒ‡ãƒƒãƒ‰ãƒ­ãƒƒã‚¯ãŒç™ºç”Ÿã—ãŸæ™‚é–“å¸¯ã«æœŸé–“ã‚’è¨­å®š</li>
                        <li>ã€ŒLock analysisã€ã‚¿ãƒ–ã§è©²å½“æ™‚é–“å¸¯ã®ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆã‚’ç¢ºèª</li>
                        <li>ãƒ­ãƒƒã‚¯ãƒ„ãƒªãƒ¼ã‚’å±•é–‹ã—ã€é–¢é€£ã™ã‚‹ã‚»ãƒƒã‚·ãƒ§ãƒ³ã€SQLã€ãƒ­ãƒƒã‚¯ãƒ¢ãƒ¼ãƒ‰ã‚’åˆ†æ</li>
                        <li>ã€Œwaiting_locktypeã€åˆ—ã‚’æœ‰åŠ¹åŒ–ã—ã€ãƒ­ãƒƒã‚¯ã®ç¨®é¡ã‚’ç¢ºèª</li>
                    </ol>
                </div>
                <div class="usecase-effect">ãƒ‡ãƒƒãƒ‰ãƒ­ãƒƒã‚¯ç™ºç”Ÿæ™‚ã®ãƒ­ãƒƒã‚¯çŠ¶æ…‹ã‚’äº‹å¾Œçš„ã«å†ç¾ã—ã€é–¢é€£ã™ã‚‹ã‚»ãƒƒã‚·ãƒ§ãƒ³ã¨ã‚¯ã‚¨ãƒªã®çµ„ã¿åˆã‚ã›ã‚’ç‰¹å®šã§ãã¾ã™ã€‚ã“ã®æƒ…å ±ã‚’åŸºã«ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³è¨­è¨ˆã‚’æ”¹å–„ã—ã€å†ç™ºã‚’é˜²æ­¢ã§ãã¾ã™ã€‚</div>
            </div>
        </div>

        <!-- Pricing -->
        <div class="section">
            <h2 class="section-title"><span class="icon">ğŸ’°</span> æ–™é‡‘æƒ…å ±</h2>
            <p class="overview-text">CloudWatch Database Insights ã®ãƒ­ãƒƒã‚¯ç«¶åˆè¨ºæ–­ã¯ã€Advanced ãƒ¢ãƒ¼ãƒ‰ã®æ–™é‡‘ã«å«ã¾ã‚Œã¾ã™ã€‚</p>
            <div class="pricing-card">
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>é …ç›®</th>
                                <th>æ–™é‡‘</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Database Insights Advanced ãƒ¢ãƒ¼ãƒ‰</td>
                                <td>vCPU ãƒ™ãƒ¼ã‚¹ã®æ–™é‡‘</td>
                            </tr>
                            <tr>
                                <td>ãƒ‡ãƒ¼ã‚¿ä¿æŒ (15 ã‹æœˆ)</td>
                                <td>Advanced ãƒ¢ãƒ¼ãƒ‰æ–™é‡‘ã«å«ã¾ã‚Œã‚‹</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <p class="pricing-note">æœ€æ–°ã®æ–™é‡‘ã¯ <a href="https://aws.amazon.com/cloudwatch/pricing/" target="_blank" rel="noopener noreferrer" style="color: var(--aws-teal);">Amazon CloudWatch æ–™é‡‘ãƒšãƒ¼ã‚¸</a> ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚</p>
            </div>
        </div>

        <!-- Region Availability -->
        <div class="section">
            <h2 class="section-title"><span class="icon">ğŸŒ</span> åˆ©ç”¨å¯èƒ½ãƒªãƒ¼ã‚¸ãƒ§ãƒ³</h2>
            <p class="overview-text">CloudWatch Database Insights ã¯<span class="highlight">ã™ã¹ã¦ã®ãƒ‘ãƒ–ãƒªãƒƒã‚¯ AWS ãƒªãƒ¼ã‚¸ãƒ§ãƒ³</span>ã§åˆ©ç”¨å¯èƒ½ã§ã™ã€‚vCPU ãƒ™ãƒ¼ã‚¹ã®æ–™é‡‘ä½“ç³»ãŒé©ç”¨ã•ã‚Œã¾ã™ã€‚</p>
            <div style="text-align: center; margin-top: 12px;">
                <span class="region-badge">All Public AWS Regions</span>
            </div>
        </div>

        <!-- Related Services -->
        <div class="section">
            <h2 class="section-title"><span class="icon">ğŸ”—</span> é–¢é€£ã‚µãƒ¼ãƒ“ã‚¹</h2>
            <div class="related-service">
                <span class="service-icon">ğŸ“ˆ</span>
                <div>
                    <div class="service-name">Amazon RDS Performance Insights</div>
                    <div class="service-desc">ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®è² è·ã‚’ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ã—ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®ãƒœãƒˆãƒ«ãƒãƒƒã‚¯ã‚’ç‰¹å®šã€‚Database Insights Advanced ãƒ¢ãƒ¼ãƒ‰ã®ä¸€éƒ¨ã¨ã—ã¦çµ±åˆ</div>
                </div>
            </div>
            <div class="related-service">
                <span class="service-icon">ğŸ“Š</span>
                <div>
                    <div class="service-name">Amazon CloudWatch Database Insights</div>
                    <div class="service-desc">ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®å¥å…¨æ€§ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ã‚’ãƒ•ãƒªãƒ¼ãƒˆãƒ¬ãƒ™ãƒ«ã§é›†ç´„ã—ã€ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãƒ¬ãƒ™ãƒ«ã®è©³ç´°åˆ†æã‚’æä¾›</div>
                </div>
            </div>
            <div class="related-service">
                <span class="service-icon">ğŸ˜</span>
                <div>
                    <div class="service-name">Amazon Aurora PostgreSQL</div>
                    <div class="service-desc">Aurora PostgreSQL ã§ã‚‚åŒæ§˜ã®ãƒ­ãƒƒã‚¯ç«¶åˆè¨ºæ–­æ©Ÿèƒ½ãŒåˆ©ç”¨å¯èƒ½</div>
                </div>
            </div>
            <div class="related-service">
                <span class="service-icon">ğŸ—„ï¸</span>
                <div>
                    <div class="service-name">Amazon RDS for PostgreSQL</div>
                    <div class="service-desc">ä»Šå›ã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã®å¯¾è±¡ã‚µãƒ¼ãƒ“ã‚¹ã€‚PostgreSQL ã‚¨ãƒ³ã‚¸ãƒ³ã®ãƒ­ãƒƒã‚¯ç®¡ç†ãƒ¡ã‚«ãƒ‹ã‚ºãƒ ã‚’æ´»ç”¨</div>
                </div>
            </div>
        </div>

        <!-- Summary -->
        <div class="section">
            <h2 class="section-title"><span class="icon">ğŸ“‹</span> ã¾ã¨ã‚</h2>
            <p class="overview-text">
                Amazon CloudWatch Database Insights ã®ãƒ­ãƒƒã‚¯ç«¶åˆè¨ºæ–­æ©Ÿèƒ½ã«ã‚ˆã‚Šã€Amazon RDS for PostgreSQL ã®ãƒ­ãƒƒã‚¯ç«¶åˆå•é¡Œã‚’è¿…é€Ÿã«ç‰¹å®šãƒ»è§£æ±ºã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚ãƒ­ãƒƒã‚¯ãƒ„ãƒªãƒ¼ã®ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ©ã‚¤ã‚¼ãƒ¼ã‚·ãƒ§ãƒ³ã€DB Load ãƒãƒ£ãƒ¼ãƒˆã®ãƒ–ãƒ­ãƒƒã‚­ãƒ³ã‚°ãƒ‡ã‚£ãƒ¡ãƒ³ã‚·ãƒ§ãƒ³ã€15 ã‹æœˆé–“ã®å±¥æ­´ãƒ‡ãƒ¼ã‚¿ä¿æŒã«ã‚ˆã‚Šã€ã‚«ã‚¹ã‚¿ãƒ ã‚¯ã‚¨ãƒªã‚„ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ­ã‚°ã«ä¾å­˜ã™ã‚‹ã“ã¨ãªãã€åŠ¹ç‡çš„ãªãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãŒå¯èƒ½ã§ã™ã€‚
            </p>
            <p class="overview-text">
                PostgreSQL ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç®¡ç†ã‚’å¼·åŒ–ã—ãŸã„çµ„ç¹”ã¯ã€Database Insights ã® <span class="highlight">Advanced ãƒ¢ãƒ¼ãƒ‰</span>ã‚’æœ‰åŠ¹åŒ–ã—ã€ãƒ­ãƒƒã‚¯ç«¶åˆè¨ºæ–­æ©Ÿèƒ½ã‚’æ´»ç”¨ã™ã‚‹ã“ã¨ã‚’ãŠå‹§ã‚ã—ã¾ã™ã€‚
            </p>
        </div>

        <!-- Footer -->
        <footer>
            <p style="font-weight: 600; margin-bottom: 8px;">å‚è€ƒãƒªãƒ³ã‚¯</p>
            <ul>
                <li>ğŸ“ <a href="https://aws.amazon.com/about-aws/whats-new/2026/02/amazon-cloudwatch-lock-contention-diagnostics-rds-postgresql/" target="_blank" rel="noopener noreferrer">å…¬å¼ç™ºè¡¨ - What's New</a></li>
                <li>ğŸ“– <a href="https://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/Database-Insights-Lock-Analysis.html" target="_blank" rel="noopener noreferrer">ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ - Lock Analysis</a></li>
                <li>ğŸ“– <a href="https://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/Database-Insights.html" target="_blank" rel="noopener noreferrer">ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ - Database Insights</a></li>
                <li>ğŸ’° <a href="https://aws.amazon.com/cloudwatch/pricing/" target="_blank" rel="noopener noreferrer">æ–™é‡‘ãƒšãƒ¼ã‚¸</a></li>
            </ul>
        </footer>
    </div>

    <script>
        mermaid.initialize({
            startOnLoad: true,
            theme: 'base',
            themeVariables: {
                primaryColor: '#FF9900',
                primaryTextColor: '#232F3E',
                primaryBorderColor: '#FF9900',
                lineColor: '#FF9900',
                secondaryColor: '#F5F5F5',
                tertiaryColor: '#FAFAFA',
                background: '#FFFFFF',
                mainBkg: '#FFF3E0',
                nodeBorder: '#FF9900',
                clusterBkg: '#FFF8E1',
                clusterBorder: '#FF9900',
                edgeLabelBackground: '#FFFFFF',
                textColor: '#232F3E'
            }
        });
        hljs.highlightAll();
    </script>
</body>
</html>